"use strict";(self.webpackChunkhospital=self.webpackChunkhospital||[]).push([[799],{799:(J,h,u)=>{u.r(h),u.d(h,{AdminModule:()=>L});var l=u(6895),p=u(1960),t=u(1571);let _=(()=>{const o=class{};let r=o;return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,a){1&n&&(t.TgZ(0,"p"),t._uU(1,"dashboard works!"),t.qZA())}}),r})();var m=u(8575),g=u(529);const f=function(r){return["/admin/role_set/",r]};function b(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td",11)(20,"a",12)(21,"button",13),t._UZ(22,"img",14),t.qZA()(),t._uU(23," | "),t.TgZ(24,"button",15),t.NdJ("click",function(){const a=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.deletecategory(a.userName))}),t._UZ(25,"img",16),t.qZA()()()}if(2&r){const i=o.$implicit;t.xp6(2),t.Oqu(i.userName),t.xp6(2),t.Oqu(i.userFirstName),t.xp6(2),t.Oqu(i.userLastName),t.xp6(2),t.Oqu(i.email),t.xp6(2),t.Oqu(i.enabled),t.xp6(2),t.Oqu(i.credentialsNonExpired),t.xp6(2),t.Oqu(i.accountNonExpired),t.xp6(2),t.Oqu(i.accountNonLocked),t.xp6(2),t.Oqu(i.roles),t.xp6(2),t.Q6J("routerLink",t.VKq(10,f,i.userName))}}let x=(()=>{const o=class{constructor(e,n){this.userServiceService=e,this.http=n,this.usersList=[]}ngOnInit(){this.getUserData()}getUserData(){this.http.get("https://ideally-precious-fish.ngrok-free.app/api/users/moderators").subscribe({next:e=>{this.usersList=e,console.log("User data fetched successfully",this.usersList)},error:e=>{console.error("Error fetching user data:",e)}})}deletecategory(e){this.userServiceService.deleteById(e).subscribe(n=>{console.log("Data deleted"),this.ngOnInit()})}};let r=o;return o.\u0275fac=function(n){return new(n||o)(t.Y36(m.R),t.Y36(g.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-doctor-registration"]],decls:35,vars:1,consts:[[1,"d-flex"],[1,"main-content"],[1,"product-list-container"],[1,"header"],[1,"toolbar"],[1,"toolbar-left"],["routerLink","/signup",1,"btn","add-product"],["type","date","placeholder","Date Range",1,"date-range-input"],[1,"toolbar-right"],[1,"data-table"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"routerLink"],[1,"btn1"],["src","assets/pen.png","alt","Edit",1,"icon"],[1,"btn1",3,"click"],["src","/assets/bin.png","alt","Delete",1,"icon"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"button",6),t._uU(7,"+"),t.qZA(),t._UZ(8,"input",7),t.qZA(),t._UZ(9,"div",8),t.qZA(),t.TgZ(10,"table",9)(11,"thead")(12,"tr")(13,"th"),t._uU(14,"userName"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"userFirstName"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"userLastName"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"email"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"enabled"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"credentialsNonExpired"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"accountNonExpired"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"accountNonLocked"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"roles"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Actions"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,b,26,12,"tr",10),t.qZA()()()()()),2&n&&(t.xp6(34),t.Q6J("ngForOf",a.usersList))},dependencies:[l.sg,p.rH],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f8f9fa}.d-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.main-content[_ngcontent-%COMP%]{width:100%;max-width:1200px;background:#fff}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:5px 8px;border-radius:3px;cursor:pointer;font-size:12px}.btn[_ngcontent-%COMP%]:hover{background:#0056b3}.date-range-input[_ngcontent-%COMP%]{padding:5px;font-size:12px;border:1px solid #ddd;border-radius:3px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:white;font-size:12px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;text-align:left;border:1px solid #ddd}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#007bff;color:#fff;font-weight:400}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f1f1}.btn1[_ngcontent-%COMP%]{color:#000;background:none;border:none;cursor:pointer;padding:3px}.icon[_ngcontent-%COMP%]{width:14px;height:14px}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10px;padding:3px}}"]}),r})();var s=u(433);function Z(r,o){if(1&r&&(t.TgZ(0,"option",20),t._uU(1),t.qZA()),2&r){const i=o.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}let C=(()=>{const o=class{constructor(e,n,a,c){this.http=e,this.router=n,this.route=a,this.userServiceService=c,this.apiUrl="https://ideally-precious-fish.ngrok-free.app/api/users",this.availableRoles=["ROLE_ADMIN","ROLE_MODERATOR","ROLE_LAB_ENTRY","ROLE_USER"],this.signupForm=new s.cw({userName:new s.NI(""),userFirstName:new s.NI(""),userLastName:new s.NI(""),email:new s.NI(""),password:new s.NI(""),roles:new s.NI([]),enabled:new s.NI(!1),credentialsNonExpired:new s.NI(!1),accountNonExpired:new s.NI(!1),accountNonLocked:new s.NI(!1)})}ngOnInit(){this.userName=this.route.snapshot.params.userName,this.userServiceService.getByuserName(this.userName).subscribe(e=>{this.userList=e;const n=Array.isArray(e.role)?e.role:[e.role];this.signupForm.patchValue({...e,role:n})})}onSubmit(){const e=this.signupForm.value;console.log(this.signupForm.value),this.addData(e).subscribe(n=>{console.log("User updated successfully"),this.router.navigateByUrl("admin/doctor_reg")},n=>{console.error("Error updating user:",n)})}addData(e){return this.http.put(`${this.apiUrl}/${this.userName}`,e)}toggleRole(e){const n=this.signupForm.controls.role.value||[],a=e.target.value;n.includes(a)?this.signupForm.controls.role.setValue(n.filter(c=>c!==a)):this.signupForm.controls.role.setValue([...n,a])}};let r=o;return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.eN),t.Y36(p.F0),t.Y36(p.gz),t.Y36(m.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-role-set"]],decls:45,vars:2,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","userName","required","",1,"form-control"],["type","text","formControlName","userFirstName","required","",1,"form-control"],["type","text","formControlName","userLastName","required","",1,"form-control"],["type","email","formControlName","email","required","",1,"form-control"],["type","password","formControlName","password","required","",1,"form-control"],["for","enabled"],["type","checkbox","id","enabled","formControlName","enabled"],["for","credentialsNonExpired"],["type","checkbox","id","credentialsNonExpired","formControlName","credentialsNonExpired"],["for","accountNonExpired"],["type","checkbox","id","accountNonExpired","formControlName","accountNonExpired"],["for","accountNonLocked"],["type","checkbox","id","accountNonLocked","formControlName","accountNonLocked"],["for","roles"],["id","roles","formControlName","roles","multiple",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn",2,"background-color","rgb(242, 110, 38)","color","white"],[3,"value"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(2,"div",2)(3,"label"),t._uU(4,"Username:"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"div",2)(7,"label"),t._uU(8,"First Name:"),t.qZA(),t._UZ(9,"input",4),t.qZA(),t.TgZ(10,"div",2)(11,"label"),t._uU(12,"Last Name:"),t.qZA(),t._UZ(13,"input",5),t.qZA(),t.TgZ(14,"div",2)(15,"label"),t._uU(16,"Email:"),t.qZA(),t._UZ(17,"input",6),t.qZA(),t.TgZ(18,"div",2)(19,"label"),t._uU(20,"Password:"),t.qZA(),t._UZ(21,"input",7),t.qZA(),t.TgZ(22,"div")(23,"label",8),t._uU(24,"Enabled"),t.qZA(),t._UZ(25,"input",9),t.qZA(),t.TgZ(26,"div")(27,"label",10),t._uU(28,"Credentials Non Expired"),t.qZA(),t._UZ(29,"input",11),t.qZA(),t.TgZ(30,"div")(31,"label",12),t._uU(32,"Account Non Expired"),t.qZA(),t._UZ(33,"input",13),t.qZA(),t.TgZ(34,"div")(35,"label",14),t._uU(36,"Account Non Locked"),t.qZA(),t._UZ(37,"input",15),t.qZA(),t.TgZ(38,"div")(39,"label",16),t._uU(40,"Roles"),t.qZA(),t.TgZ(41,"select",17),t.YNc(42,Z,2,2,"option",18),t.qZA()(),t.TgZ(43,"button",19),t._uU(44," Update User "),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",a.signupForm),t.xp6(41),t.Q6J("ngForOf",a.availableRoles))},dependencies:[l.sg,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.K7,s.JJ,s.JL,s.Q7,s.sg,s.u],styles:[".container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;display:block;margin-bottom:8px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:14px;border:1px solid #ddd;border-radius:4px;transition:border-color .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#f26e26;outline:none}button.btn[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#f26e26;color:#fff;font-size:16px;font-weight:700;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}button.btn[_ngcontent-%COMP%]:hover{background-color:#d66222}input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin-right:10px}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#f26e26}.form-group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:8px}label[for=enabled][_ngcontent-%COMP%], label[for=credentialsNonExpired][_ngcontent-%COMP%], label[for=accountNonExpired][_ngcontent-%COMP%], label[for=accountNonLocked][_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#333}button[_ngcontent-%COMP%]:disabled{background-color:#ddd;cursor:not-allowed}div[_ngcontent-%COMP%]{margin-bottom:20px}label[for=roles][_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;display:block;margin-bottom:8px}select.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:14px;border:1px solid #ddd;border-radius:4px;transition:border-color .3s ease;background-color:#fff;height:auto;min-height:150px;resize:vertical}select.form-control[_ngcontent-%COMP%]:focus{border-color:#f26e26;outline:none}select.form-control[_ngcontent-%COMP%]:hover{border-color:#d66222}option[_ngcontent-%COMP%]{padding:8px;background-color:#fff;color:#333}option[_ngcontent-%COMP%]:checked{background-color:#f26e26;color:#fff}@media (max-width: 768px){select.form-control[_ngcontent-%COMP%]{width:100%}}"]}),r})();const O=function(r){return["/admin/role_set/",r]};function U(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",13),t._uU(10),t.qZA(),t.TgZ(11,"td",13),t._uU(12),t.qZA(),t.TgZ(13,"td",13),t._uU(14),t.qZA(),t.TgZ(15,"td",13),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td",13)(20,"a",14)(21,"button",15),t._uU(22,"Edit"),t.qZA()(),t._uU(23," | "),t.TgZ(24,"button",16),t.NdJ("click",function(){const a=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.deleteUser(a.userName))}),t._uU(25,"Delete"),t.qZA()()()}if(2&r){const i=o.$implicit;t.xp6(2),t.Oqu(i.userName),t.xp6(2),t.Oqu(i.userFirstName),t.xp6(2),t.Oqu(i.userLastName),t.xp6(2),t.Oqu(i.email),t.xp6(2),t.Oqu(i.enabled),t.xp6(2),t.Oqu(i.credentialsNonExpired),t.xp6(2),t.Oqu(i.accountNonExpired),t.xp6(2),t.Oqu(i.accountNonLocked),t.xp6(2),t.Oqu(i.roles),t.xp6(2),t.Q6J("routerLink",t.VKq(10,O,i.userName))}}function T(r,o){1&r&&(t.TgZ(0,"tr")(1,"td",17),t._uU(2,"No users found."),t.qZA()())}const M=function(r,o){return{"btn-primary":r,"btn-outline-secondary":o}};function q(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){const a=t.CHM(i).index,c=t.oxw(2);return t.KtG(c.changePage(a))}),t._uU(1),t.qZA()}if(2&r){const i=o.index,e=t.oxw(2);t.Q6J("ngClass",t.WLB(2,M,e.currentPage===i,e.currentPage!==i)),t.xp6(1),t.hij(" ",i+1," ")}}const A=function(){return[]};function P(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"div",18)(1,"button",19),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.changePage(n.currentPage-1))}),t._uU(2," Prev "),t.qZA(),t.YNc(3,q,2,5,"button",20),t.TgZ(4,"button",19),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.changePage(n.currentPage+1))}),t._uU(5," Next "),t.qZA()()}if(2&r){const i=t.oxw();t.xp6(1),t.Q6J("disabled",0===i.currentPage),t.xp6(2),t.Q6J("ngForOf",t.DdM(3,A).constructor(i.totalPages)),t.xp6(1),t.Q6J("disabled",i.currentPage===i.totalPages-1)}}function v(r,o){if(1&r&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&r){const i=o.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function k(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",17),t.NdJ("click",function(){const a=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.editDepartment(a))}),t._uU(9,"Edit"),t.qZA(),t.TgZ(10,"button",18),t.NdJ("click",function(){const a=t.CHM(i).$implicit,c=t.oxw();return t.KtG(c.deleteDepartment(a.id))}),t._uU(11,"Delete"),t.qZA()()()}if(2&r){const i=o.$implicit;t.xp6(2),t.Oqu(i.id),t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Oqu(i.description)}}function w(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"div",19)(1,"button",20),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.changePage(n.page-1))}),t._uU(2,"Previous"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"button",20),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.changePage(n.page+1))}),t._uU(6,"Next"),t.qZA()()}if(2&r){const i=t.oxw();t.xp6(1),t.Q6J("disabled",0===i.page),t.xp6(3),t.AsE("Page ",i.page+1," of ",i.totalPages,""),t.xp6(1),t.Q6J("disabled",i.page===i.totalPages-1)}}const D=[{path:"",redirectTo:"user_list",pathMatch:"full"},{path:"admin_dashboard",component:_},{path:"doctor_reg",component:x},{path:"user_list",component:(()=>{const o=class{constructor(e){this.userServiceService=e,this.userList=[],this.pagedUserList=[],this.totalPages=0,this.currentPage=0,this.pageSize=10}ngOnInit(){this.fetchUserData()}fetchUserData(){this.userServiceService.getAllData().subscribe({next:e=>{this.userList=e,this.totalPages=Math.ceil(this.userList.length/this.pageSize),this.updatePagedList()},error:e=>{console.error("Error fetching user data:",e)}})}updatePagedList(){const e=this.currentPage*this.pageSize;this.pagedUserList=this.userList.slice(e,e+this.pageSize)}deleteUser(e){this.userServiceService.deleteById(e).subscribe({next:()=>{console.log("User deleted successfully"),this.fetchUserData()},error:n=>{console.error("Error deleting user:",n)}})}changePage(e){e<0||e>=this.totalPages||(this.currentPage=e,this.updatePagedList())}};let r=o;return o.\u0275fac=function(n){return new(n||o)(t.Y36(m.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-user-list"]],decls:30,vars:3,consts:[[1,"d-flex"],[1,"main-content"],[1,"product-list-container"],[1,"table","table-striped","table-bordered","align-middle"],[1,"table-dark","text-center"],[2,"width","6%"],[2,"width","15%"],[2,"width","20%"],[2,"width","12%"],[1,"text-center",2,"width","12%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","d-flex justify-content-center mt-3 gap-2 flex-wrap",4,"ngIf"],[1,"text-center"],[3,"routerLink"],[1,"btn","btn-warning","btn-sm"],[1,"btn","btn-danger","btn-sm",3,"click"],["colspan","10",1,"text-center","text-muted"],[1,"d-flex","justify-content-center","mt-3","gap-2","flex-wrap"],[1,"btn","btn-outline-secondary","btn-sm",3,"disabled","click"],["class","btn btn-sm",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead",4)(5,"tr")(6,"th",5),t._uU(7,"Username"),t.qZA(),t.TgZ(8,"th",6),t._uU(9,"First Name"),t.qZA(),t.TgZ(10,"th",6),t._uU(11,"Last Name"),t.qZA(),t.TgZ(12,"th",7),t._uU(13,"Email"),t.qZA(),t.TgZ(14,"th",5),t._uU(15,"Enabled"),t.qZA(),t.TgZ(16,"th",5),t._uU(17,"Credentials Non Expired"),t.qZA(),t.TgZ(18,"th",5),t._uU(19,"Account Non Expired"),t.qZA(),t.TgZ(20,"th",5),t._uU(21,"Account Non Locked"),t.qZA(),t.TgZ(22,"th",8),t._uU(23,"Roles"),t.qZA(),t.TgZ(24,"th",9),t._uU(25,"Actions"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,U,26,12,"tr",10),t.YNc(28,T,3,0,"tr",11),t.qZA()(),t.YNc(29,P,6,4,"div",12),t.qZA()()()),2&n&&(t.xp6(27),t.Q6J("ngForOf",a.pagedUserList),t.xp6(1),t.Q6J("ngIf",0===a.pagedUserList.length),t.xp6(1),t.Q6J("ngIf",a.totalPages>1))},dependencies:[l.mk,l.sg,l.O5,p.rH],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f8f9fa}.d-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.main-content[_ngcontent-%COMP%]{width:100%;max-width:1200px;background:#fff}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:5px 8px;border-radius:3px;cursor:pointer;font-size:12px}.btn[_ngcontent-%COMP%]:hover{background:#0056b3}.date-range-input[_ngcontent-%COMP%]{padding:5px;font-size:12px;border:1px solid #ddd;border-radius:3px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:white;font-size:12px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px;text-align:left;border:1px solid #ddd}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#007bff;color:#fff;font-weight:400}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f1f1}.btn1[_ngcontent-%COMP%]{color:#000;background:none;border:none;cursor:pointer;padding:3px}.icon[_ngcontent-%COMP%]{width:14px;height:14px}@media (max-width: 768px){.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10px;padding:3px}}"]}),r})()},{path:"reports",component:(()=>{const o=class{constructor(e,n){this.fb=e,this.http=n,this.exportFormats=["PDF","Excel","Excel Data Only"],this.selectedFormat="PDF",this.format="pdf",this.fromDate="",this.toDate=""}clearForm(){}generateReport(){}downloadFile(){const e=(new g.LE).set("format",this.format).set("formDate",this.fromDate).set("toDate",this.toDate);this.http.get("https://ideally-precious-fish.ngrok-free.app/download",{params:e,responseType:"blob"}).subscribe(n=>{const a=document.createElement("a"),c=window.URL.createObjectURL(n);a.href=c,a.download=`report.${this.format}`,a.click(),window.URL.revokeObjectURL(c)},n=>{console.error("Download failed",n)})}};let r=o;return o.\u0275fac=function(n){return new(n||o)(t.Y36(s.qu),t.Y36(g.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-reports"]],decls:22,vars:5,consts:[[1,"container","mt-4"],[1,"card","p-3"],[1,"row","g-3"],["for","fromDate"],["type","datetime-local","id","fromDate","name","fromDate",3,"ngModel","ngModelChange"],["for","toDate"],["type","datetime-local","id","toDate","name","toDate",3,"ngModel","ngModelChange"],[1,"col-md-3","d-flex","align-items-end"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"d-flex","justify-content-end","mt-3"],[1,"form-select","w-auto","me-2",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["target","_blank",3,"href"],["type","button",1,"btn-submit"],[3,"value"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Sales Summary"),t.qZA(),t.TgZ(3,"div",1)(4,"form",2)(5,"div")(6,"label",3),t._uU(7,"From Date:"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("ngModelChange",function(d){return a.fromDate=d}),t.qZA()(),t.TgZ(9,"div")(10,"label",5),t._uU(11,"To Date:"),t.qZA(),t.TgZ(12,"input",6),t.NdJ("ngModelChange",function(d){return a.toDate=d}),t.qZA()(),t.TgZ(13,"div",7)(14,"button",8),t.NdJ("click",function(){return a.clearForm()}),t._uU(15,"Clear"),t.qZA()()()(),t.TgZ(16,"div",9)(17,"select",10),t.NdJ("ngModelChange",function(d){return a.selectedFormat=d}),t.YNc(18,v,2,2,"option",11),t.qZA(),t.TgZ(19,"a",12)(20,"button",13),t._uU(21,"Print"),t.qZA()()()()),2&n&&(t.xp6(8),t.Q6J("ngModel",a.fromDate),t.xp6(4),t.Q6J("ngModel",a.toDate),t.xp6(5),t.Q6J("ngModel",a.selectedFormat),t.xp6(1),t.Q6J("ngForOf",a.exportFormats),t.xp6(1),t.Q6J("href","http://localhost:9090/download?format="+a.format+"&fromDate="+a.fromDate+"&toDate="+a.toDate,t.LSH))},dependencies:[l.sg,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.F],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:auto}.card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 4px 10px #0000001a;background:#fff}h4[_ngcontent-%COMP%]{font-weight:600;color:#333}label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:5px;display:block}input[type=datetime-local][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px;font-size:14px}.form-select[_ngcontent-%COMP%]{padding:8px;border-radius:5px;font-size:14px}.btn-submit[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 15px;border:none;border-radius:5px;font-size:14px;cursor:pointer;transition:.3s}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;padding:8px 15px;border:none;border-radius:5px;font-size:14px;cursor:pointer;transition:.3s}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.w-auto[_ngcontent-%COMP%]{width:auto}.me-2[_ngcontent-%COMP%]{margin-right:10px}.mt-3[_ngcontent-%COMP%]{margin-top:15px}"]}),r})()},{path:"department",component:(()=>{const o=class{constructor(e,n,a){this.http=e,this.router=n,this.route=a,this.departments=[],this.department={id:null,name:"",description:""},this.searchQuery={name:"",description:""},this.apiUrl="https://ideally-precious-fish.ngrok-free.app/api/department",this.page=0,this.size=10,this.totalPages=0,this.totalElements=0}ngOnInit(){this.getAllDepartments()}getAllDepartments(){this.http.get(this.apiUrl).subscribe({next:e=>this.departments=e,error:e=>console.error("Error fetching departments:",e)})}saveDepartment(){this.department.id?this.http.put(`${this.apiUrl}/${this.department.id}`,this.department).subscribe({next:()=>{this.getAllDepartments(),this.clearForm()},error:e=>console.error("Error updating department:",e)}):this.http.post(this.apiUrl,this.department).subscribe({next:()=>{this.getAllDepartments(),this.clearForm()},error:e=>console.error("Error adding department:",e)})}editDepartment(e){this.department={...e}}deleteDepartment(e){confirm("Are you sure you want to delete this department?")&&(this.http.delete(`${this.apiUrl}/${e}`).subscribe({next:()=>this.getAllDepartments(),error:n=>console.error("Error deleting department:",n)}),this.router.navigate(["admin/department"]))}searchDepartments(){const{name:e,description:n}=this.searchQuery;this.http.get(`${this.apiUrl}/search?name=${e}&description=${n}&page=${this.page}&size=${this.size}`).subscribe({next:c=>{this.departments=c.content,this.totalPages=c.totalPages,this.totalElements=c.totalElements},error:c=>console.error("Error searching departments:",c)})}changePage(e){e>=0&&e<this.totalPages&&(this.page=e,this.searchDepartments())}clearForm(){this.department={id:null,name:"",description:""}}};let r=o;return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.eN),t.Y36(p.F0),t.Y36(p.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-department"]],decls:36,vars:7,consts:[[1,"container"],[1,"text-center"],[3,"submit"],[1,"row"],[1,"col-md-4"],["name","name","placeholder","Department Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","description","placeholder","Description","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],[1,"row","mt-3"],["placeholder","Search by Name",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Search by Description",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-info",3,"click"],[1,"table","table-striped","mt-4"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","pagination mt-3",4,"ngIf"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm","ms-2",3,"click"],[1,"pagination","mt-3"],[1,"btn","btn-secondary",3,"disabled","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Department Management"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("submit",function(){return a.saveDepartment()}),t.TgZ(4,"div",3)(5,"div",4)(6,"input",5),t.NdJ("ngModelChange",function(d){return a.department.name=d}),t.qZA()(),t.TgZ(7,"div",4)(8,"input",6),t.NdJ("ngModelChange",function(d){return a.department.description=d}),t.qZA()(),t.TgZ(9,"div",4)(10,"button",7),t._uU(11),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return a.clearForm()}),t._uU(13,"Clear"),t.qZA()()()(),t.TgZ(14,"div",9)(15,"div",4)(16,"input",10),t.NdJ("ngModelChange",function(d){return a.searchQuery.name=d}),t.qZA()(),t.TgZ(17,"div",4)(18,"input",11),t.NdJ("ngModelChange",function(d){return a.searchQuery.description=d}),t.qZA()(),t.TgZ(19,"div",4)(20,"button",12),t.NdJ("click",function(){return a.searchDepartments()}),t._uU(21,"Search"),t.qZA()()(),t.TgZ(22,"table",13)(23,"thead",14)(24,"tr")(25,"th"),t._uU(26,"ID"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Name"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Description"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Actions"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,k,12,3,"tr",15),t.qZA()(),t.YNc(35,w,7,4,"div",16),t.qZA()),2&n&&(t.xp6(6),t.Q6J("ngModel",a.department.name),t.xp6(2),t.Q6J("ngModel",a.department.description),t.xp6(3),t.hij("",a.department.id?"Update":"Add"," Department"),t.xp6(5),t.Q6J("ngModel",a.searchQuery.name),t.xp6(2),t.Q6J("ngModel",a.searchQuery.description),t.xp6(16),t.Q6J("ngForOf",a.departments),t.xp6(1),t.Q6J("ngIf",a.totalPages>1))},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F]}),r})()},{path:"role_set/:userName",component:C}];let F=(()=>{const o=class{};let r=o;return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(D),p.Bz]}),r})(),L=(()=>{const o=class{};let r=o;return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,F,g.JF,s.u5,s.UX,p.Bz]}),r})()}}]);